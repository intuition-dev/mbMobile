extends /layout/layout
//- App Shell

block main

   .pad
      #feed-table.table-custom

      script.
         loadjs.ready(['cssJs'], function () {

            let tabledata = [
               {id:1, email:"Oli Bob", name:"Oli Bob"}
            ];

            this.table = new Tabulator("#feed-table", {
               //data:feed.data,         // assign data to table
               data:tabledata,         // assign data to table
               layout:"fitColumns",    // fit columns to width of table
               columns:[               // Define Table Columns
                  {title:"id", field:"id", visible:false},
                  {title:"Email", field:"email", align:"left"},
                  {title:"Name", field:"name", align:"left"}
               ],
               rowClick:(e, row) => { // fill the form fields
                  this.activeRow = row;
                  var row = row.getData();
                  window.rowUid = row.id;
                  $('input[name="name"]').val(row.name);
                  $('input[name="email"]').val(row.email);

                  $('html, body').animate({ // scroll to form
                      scrollTop: $("#editor-form").offset().top
                  }, 500);
               },
            });

         });